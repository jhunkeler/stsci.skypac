
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Utility functions for skypac. &#8212; SkyPac 0.9.10 (20-April-2018) documentation</title>
    <link rel="stylesheet" href="_static/stsci_sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Pixel Area Map (PAM) utilities" href="pamutils.html" />
    <link rel="prev" title="Sky statistics functions for skypac." href="skystatistics.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pamutils.html" title="Pixel Area Map (PAM) utilities"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="skystatistics.html" title="Sky statistics functions for skypac."
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">SkyPac 0.9.10 (20-April-2018) documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/stsci_logo.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="skystatistics.html"
                        title="previous chapter">Sky statistics functions for skypac.</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="pamutils.html"
                        title="next chapter">Pixel Area Map (PAM) utilities</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/utils.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-stsci.skypac.utils">
<span id="utility-functions-for-skypac"></span><h1>Utility functions for skypac.<a class="headerlink" href="#module-stsci.skypac.utils" title="Permalink to this headline">¶</a></h1>
<p>This module provides utility functions for use
by <code class="xref py py-mod docutils literal notranslate"><span class="pre">stsci.skypac</span></code> module.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Authors:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Mihai Cara (contact: <a class="reference external" href="mailto:help&#37;&#52;&#48;stsci&#46;edu">help<span>&#64;</span>stsci<span>&#46;</span>edu</a>)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">License:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><a class="reference internal" href="LICENSE.html"><span class="doc">LICENSE</span></a></td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="stsci.skypac.utils.MultiFileLog">
<em class="property">class </em><code class="descclassname">stsci.skypac.utils.</code><code class="descname">MultiFileLog</code><span class="sig-paren">(</span><em>console=True</em>, <em>enableBold=True</em>, <em>flog=None</em>, <em>append=True</em>, <em>autoflush=True</em>, <em>appendEOL=True</em><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.MultiFileLog" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a class that facilitates writting to multiple files.
<a class="reference internal" href="#stsci.skypac.utils.MultiFileLog" title="stsci.skypac.utils.MultiFileLog"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MultiFileLog</span></code></a> stores multiple file objects and can write the same
log entry to all of them. It also facilitates controlling when a
function can close a log file. Finally, it provides some utility
functions that automate such things as appending EOL at the end of the
log entry, flushing the files (to avoid losing log entries in case of
uncaught exceptions), displaying <code class="docutils literal notranslate"><span class="pre">WARNING</span></code>, <code class="docutils literal notranslate"><span class="pre">ERROR</span></code>, etc. in bold
on standard streams (sys.stdout, etc.)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Parameters:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><dl class="first last docutils">
<dt><strong>console</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool (Default = True)</span></dt>
<dd><p class="first last">Enables writting to the standard output.</p>
</dd>
<dt><strong>enableBold</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool (Default = True)</span></dt>
<dd><p class="first last">Enable or disable writing bold text to console, e.g., ‘WARNING:’
‘ERROR:’, etc.</p>
</dd>
<dt><strong>flog</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str, file, None, list of str or file objects (Default = None)</span></dt>
<dd><p class="first last">File name or file object to be added to <a class="reference internal" href="#stsci.skypac.utils.MultiFileLog" title="stsci.skypac.utils.MultiFileLog"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MultiFileLog</span></code></a> during the
initialization. More files can be added lated with
<a class="reference internal" href="#stsci.skypac.utils.MultiFileLog.add_logfile" title="stsci.skypac.utils.MultiFileLog.add_logfile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_logfile()</span></code></a>.</p>
</dd>
<dt><strong>append</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool (Default = True)</span></dt>
<dd><p class="first last">Default open mode for the files that need to be opened (e.g., that
are passed as file names). If <code class="xref py py-obj docutils literal notranslate"><span class="pre">append</span></code> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>, new files added
to a <a class="reference internal" href="#stsci.skypac.utils.MultiFileLog" title="stsci.skypac.utils.MultiFileLog"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MultiFileLog</span></code></a> object will be opened in the “append”
mode: new log entries will be appended to existing files – same as
mode ‘a’ of standard function <a class="reference external" href="https://docs.python.org/3/library/functions.html#open" title="(in Python v3.6)"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a>. When <code class="xref py py-obj docutils literal notranslate"><span class="pre">append</span></code> is
<a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a>, any existing files will be overwritten.</p>
</dd>
<dt><strong>autoflush</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool (Default = True)</span></dt>
<dd><p class="first last">Indicates whether or not to flush files after each log entry.</p>
</dd>
<dt><strong>appendEOL</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool (Default = True)</span></dt>
<dd><p class="first last">Indicates whether or not to add EOL at the end of each log entry.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="stsci.skypac.utils.MultiFileLog.add_logfile">
<code class="descname">add_logfile</code><span class="sig-paren">(</span><em>flog</em>, <em>initial_skip=2</em>, <em>can_close=None</em>, <em>mode=None</em><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.MultiFileLog.add_logfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Add (and open, if necessary) a log file to the <a class="reference internal" href="#stsci.skypac.utils.MultiFileLog" title="stsci.skypac.utils.MultiFileLog"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MultiFileLog</span></code></a> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Parameters:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><dl class="first docutils">
<dt><strong>flog</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str, file, None, list of str or file objects (Default = None)</span></dt>
<dd><p class="first last">File name or file object to be added.</p>
</dd>
<dt><strong>initial_skip</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int (Default = 2)</span></dt>
<dd><p class="first last">The number of blank line to be written to the file <em>if</em> <em>not</em>
at the beginning of the file.</p>
</dd>
<dt><strong>can_close</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, None (Default = None)</span></dt>
<dd><p class="first">Indicates whether the file object can be closed by the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">close()</span></code> function:</p>
<ul class="last simple">
<li><code class="xref py py-obj docutils literal notranslate"><span class="pre">can_close</span></code>=<a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> – file can be closed by the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">close()</span></code> function;</li>
<li><code class="xref py py-obj docutils literal notranslate"><span class="pre">can_close</span></code>=<a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> – file will not be closed by the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">close()</span></code> function;</li>
<li><code class="xref py py-obj docutils literal notranslate"><span class="pre">can_close</span></code>=<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> – automatic selection based on the type
of the <code class="xref py py-obj docutils literal notranslate"><span class="pre">flog</span></code> argument: <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> if flog is a string
(e.g., file name), <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> otherwise.</li>
</ul>
</dd>
<dt><strong>mode</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str, None (Default = None)</span></dt>
<dd><p class="first last">File open mode: same meaning as the <code class="xref py py-obj docutils literal notranslate"><span class="pre">mode</span></code> parameter of the
Python’s built-in <a class="reference external" href="https://docs.python.org/3/library/functions.html#open" title="(in Python v3.6)"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a> function. If <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>, the mode
will be inherited from file open mode set during initialization.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Returns:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><dl class="first last docutils">
<dt><strong>flog</strong> <span class="classifier-delimiter">:</span> <span class="classifier">file object</span></dt>
<dd><p class="first last">File object of newly opened (or attached) file.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stsci.skypac.utils.MultiFileLog.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.MultiFileLog.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close all files <em>opened by</em> <a class="reference internal" href="#stsci.skypac.utils.MultiFileLog" title="stsci.skypac.utils.MultiFileLog"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MultiFileLog</span></code></a>.</p>
<p>It will close all files <em>opened by</em> <a class="reference internal" href="#stsci.skypac.utils.MultiFileLog" title="stsci.skypac.utils.MultiFileLog"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MultiFileLog</span></code></a> - essentially,
all files added as file name. It will <em>not</em> close files added
as file handles.</p>
</dd></dl>

<dl class="method">
<dt id="stsci.skypac.utils.MultiFileLog.enable_console">
<code class="descname">enable_console</code><span class="sig-paren">(</span><em>enable=True</em>, <em>enableBold=True</em><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.MultiFileLog.enable_console" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable output to the standard console – <a class="reference external" href="https://docs.python.org/3/library/sys.html#sys.stdout" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sys.stdout</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Parameters:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><dl class="first last docutils">
<dt><strong>enable</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool (Default = True)</span></dt>
<dd><p class="first last">Enable or disable output to <a class="reference external" href="https://docs.python.org/3/library/sys.html#sys.stdout" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sys.stdout</span></code></a>.</p>
</dd>
<dt><strong>enableBold</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool (Default = True)</span></dt>
<dd><p class="first last">Enable or disable writing bold text to console, e.g., ‘WARNING:’
‘ERROR:’, etc.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stsci.skypac.utils.MultiFileLog.error">
<code class="descname">error</code><span class="sig-paren">(</span><em>msg</em>, <em>*fmt</em><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.MultiFileLog.error" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints an error message. The word ‘ERROR:’ will be printed as bold
on the console and enclosed in asterisks (*) in a disk file.</p>
</dd></dl>

<dl class="method">
<dt id="stsci.skypac.utils.MultiFileLog.flush">
<code class="descname">flush</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.MultiFileLog.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Flush all files.</p>
</dd></dl>

<dl class="method">
<dt id="stsci.skypac.utils.MultiFileLog.important">
<code class="descname">important</code><span class="sig-paren">(</span><em>msg</em>, <em>*fmt</em><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.MultiFileLog.important" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints an “important” message. The word ‘IMPORTANT:’ will be printed
as bold on the console and enclosed in asterisks (*) in a disk file.</p>
</dd></dl>

<dl class="method">
<dt id="stsci.skypac.utils.MultiFileLog.logentry">
<code class="descname">logentry</code><span class="sig-paren">(</span><em>msg</em>, <em>*fmt</em>, <em>**skip</em><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.MultiFileLog.logentry" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a log entry to the log files.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Parameters:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><dl class="first last docutils">
<dt><strong>msg</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">String to be printed. Can contain replacement fields delimited
by braces {}.</p>
</dd>
<dt><strong>fmt</strong></dt>
<dd><p class="first last">Parameters to be passed to <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str.format" title="(in Python v3.6)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">str.format()</span></code></a> method for
formatting the string <code class="xref py py-obj docutils literal notranslate"><span class="pre">msg</span></code>.</p>
</dd>
<dt><strong>skip</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">Number of empty lines that should follow the log message.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">logentry</span><span class="p">(</span><span class="s1">&#39;Sky background for chip </span><span class="si">{}</span><span class="s1"> is </span><span class="si">{}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;SCI1&#39;</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="n">skip</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">will print:</span>
<span class="go">Sky background for chip SCI1 is 10.0</span>
<span class="go">followed by two blank lines.</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="stsci.skypac.utils.MultiFileLog.print_endlog_msg">
<code class="descname">print_endlog_msg</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.MultiFileLog.print_endlog_msg" title="Permalink to this definition">¶</a></dt>
<dd><p>Print a message (“Log written to…”) indicating the end of the log.</p>
</dd></dl>

<dl class="method">
<dt id="stsci.skypac.utils.MultiFileLog.set_close_flag">
<code class="descname">set_close_flag</code><span class="sig-paren">(</span><em>fh</em>, <em>can_close=True</em><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.MultiFileLog.set_close_flag" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify the “can be closed” status of a given file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Parameters:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><dl class="first last docutils">
<dt><strong>fh</strong> <span class="classifier-delimiter">:</span> <span class="classifier">file object</span></dt>
<dd></dd>
<dt><strong>can_close</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool (Default = True)</span></dt>
<dd><p class="first">Indicates if the file can be closed by the <a class="reference internal" href="#stsci.skypac.utils.MultiFileLog.close" title="stsci.skypac.utils.MultiFileLog.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">close()</span></code></a>
function.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">File object <code class="xref py py-obj docutils literal notranslate"><span class="pre">fh</span></code> <strong>must</strong> have been already added to
the <a class="reference internal" href="#stsci.skypac.utils.MultiFileLog" title="stsci.skypac.utils.MultiFileLog"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MultiFileLog</span></code></a> object.</p>
</div>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stsci.skypac.utils.MultiFileLog.skip">
<code class="descname">skip</code><span class="sig-paren">(</span><em>nlines=1</em><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.MultiFileLog.skip" title="Permalink to this definition">¶</a></dt>
<dd><p>Skip a specified number of blank lines.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Parameters:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><dl class="first last docutils">
<dt><strong>nlines</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int (Default = 1)</span></dt>
<dd></dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stsci.skypac.utils.MultiFileLog.unclose_copy">
<code class="descname">unclose_copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.MultiFileLog.unclose_copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a copy of the <a class="reference internal" href="#stsci.skypac.utils.MultiFileLog" title="stsci.skypac.utils.MultiFileLog"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MultiFileLog</span></code></a> object with all the attached files
marked as “keep open”, that is, the <a class="reference internal" href="#stsci.skypac.utils.MultiFileLog.close" title="stsci.skypac.utils.MultiFileLog.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">close()</span></code></a> will not close
these files.</p>
<p>This is useful before passing the <a class="reference internal" href="#stsci.skypac.utils.MultiFileLog" title="stsci.skypac.utils.MultiFileLog"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MultiFileLog</span></code></a> object to a function
that may add its own log files, and then attempt to close the files
with the <a class="reference internal" href="#stsci.skypac.utils.MultiFileLog.close" title="stsci.skypac.utils.MultiFileLog.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">close()</span></code></a> method. Thus, by passing an “unclose copy”,
one can be sure that the files opened at the top level will not be
closed by other functions to which the <a class="reference internal" href="#stsci.skypac.utils.MultiFileLog" title="stsci.skypac.utils.MultiFileLog"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MultiFileLog</span></code></a> object may be
passed.</p>
</dd></dl>

<dl class="method">
<dt id="stsci.skypac.utils.MultiFileLog.warning">
<code class="descname">warning</code><span class="sig-paren">(</span><em>msg</em>, <em>*fmt</em><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.MultiFileLog.warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a warning message. The word ‘WARNING:’ will be printed as bold
on the console and enclosed in asterisks (*) in a disk file.</p>
</dd></dl>

<dl class="attribute">
<dt id="stsci.skypac.utils.MultiFileLog.count">
<code class="descname">count</code><a class="headerlink" href="#stsci.skypac.utils.MultiFileLog.count" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of files attached to the <a class="reference internal" href="#stsci.skypac.utils.MultiFileLog" title="stsci.skypac.utils.MultiFileLog"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MultiFileLog</span></code></a> object
excluding the <a class="reference external" href="https://docs.python.org/3/library/sys.html#sys.stdout" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sys.stdout</span></code></a> file.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="stsci.skypac.utils.ResourceRefCount">
<em class="property">class </em><code class="descclassname">stsci.skypac.utils.</code><code class="descname">ResourceRefCount</code><span class="sig-paren">(</span><em>resource</em>, <em>resource_close_fnct=None</em>, <em>*close_args</em>, <em>**close_kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.ResourceRefCount" title="Permalink to this definition">¶</a></dt>
<dd><p>A class that implements reference counting for various resources:
file objects, PyFITS HDU lists, etc. It is intended to be used as a
mechanism of controlling the “lifespan” of resources that can be used
in different parts of the code “indipendently”. The resource is kept
open as long as the reference count is larger than zero. Once the
reference count is decreased to 0, the resource is automatically closed.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The reference count of the newly created <a class="reference internal" href="#stsci.skypac.utils.ResourceRefCount" title="stsci.skypac.utils.ResourceRefCount"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ResourceRefCount</span></code></a> object
is set to 0. It is user’s responsibility to increment the reference
count of this object through the call to <a class="reference internal" href="#stsci.skypac.utils.ResourceRefCount.hold" title="stsci.skypac.utils.ResourceRefCount.hold"><code class="xref py py-meth docutils literal notranslate"><span class="pre">hold()</span></code></a> function.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Parameters:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><dl class="first last docutils">
<dt><strong>resource</strong></dt>
<dd><p class="first last">An object who must be kept open or closed based on reference count.</p>
</dd>
<dt><strong>resource_close_fnct</strong> <span class="classifier-delimiter">:</span> <span class="classifier">function (Default = None)</span></dt>
<dd><p class="first last">The function (usually a method of the attached resource), that can
“close” the resource.</p>
</dd>
<dt><strong>close_args</strong> <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd><p class="first last">Positional arguments to be passed to the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">resource_close_fnct()</span></code> function.</p>
</dd>
<dt><strong>close_kwargs</strong> <span class="classifier-delimiter">:</span> <span class="classifier">dict</span></dt>
<dd><p class="first last">Keyword arguments to be passed to the <code class="xref py py-meth docutils literal notranslate"><span class="pre">resource_close_fnct()</span></code>
function.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="stsci.skypac.utils.ResourceRefCount.hold">
<code class="descname">hold</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.ResourceRefCount.hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Increment the reference count of the attached resource.</p>
</dd></dl>

<dl class="method">
<dt id="stsci.skypac.utils.ResourceRefCount.is_subscribed_on_close">
<code class="descname">is_subscribed_on_close</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.ResourceRefCount.is_subscribed_on_close" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the object is subscribed to on close notifications.</p>
</dd></dl>

<dl class="method">
<dt id="stsci.skypac.utils.ResourceRefCount.release">
<code class="descname">release</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.ResourceRefCount.release" title="Permalink to this definition">¶</a></dt>
<dd><p>Decrement reference count of the attached resource. If the reference
count reaches zero, call all registered “on close” notify callbacks,
and then call the “close” method on the resource which was set
at initialization of the <a class="reference internal" href="#stsci.skypac.utils.ResourceRefCount" title="stsci.skypac.utils.ResourceRefCount"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ResourceRefCount</span></code></a> object. Finally,
the <a class="reference internal" href="#stsci.skypac.utils.ResourceRefCount.resource" title="stsci.skypac.utils.ResourceRefCount.resource"><code class="xref py py-obj docutils literal notranslate"><span class="pre">resource</span></code></a> property of the <a class="reference internal" href="#stsci.skypac.utils.ResourceRefCount" title="stsci.skypac.utils.ResourceRefCount"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ResourceRefCount</span></code></a> object will be
set to <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="stsci.skypac.utils.ResourceRefCount.subscribe_close_notify">
<code class="descname">subscribe_close_notify</code><span class="sig-paren">(</span><em>obj</em>, <em>callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.ResourceRefCount.subscribe_close_notify" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the object and its method that need to be called when the resource
is about to be closed.</p>
</dd></dl>

<dl class="method">
<dt id="stsci.skypac.utils.ResourceRefCount.unsubscribe_close_notify">
<code class="descname">unsubscribe_close_notify</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.ResourceRefCount.unsubscribe_close_notify" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the object (and its method) from the list of callbacks that
need to be notified of impending closing of the resource.</p>
</dd></dl>

<dl class="attribute">
<dt id="stsci.skypac.utils.ResourceRefCount.closed">
<code class="descname">closed</code><a class="headerlink" href="#stsci.skypac.utils.ResourceRefCount.closed" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates if the resource is “closed”.</p>
</dd></dl>

<dl class="attribute">
<dt id="stsci.skypac.utils.ResourceRefCount.refcount">
<code class="descname">refcount</code><a class="headerlink" href="#stsci.skypac.utils.ResourceRefCount.refcount" title="Permalink to this definition">¶</a></dt>
<dd><p>Reference count.</p>
</dd></dl>

<dl class="attribute">
<dt id="stsci.skypac.utils.ResourceRefCount.resource">
<code class="descname">resource</code><a class="headerlink" href="#stsci.skypac.utils.ResourceRefCount.resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Resource attached to a <a class="reference internal" href="#stsci.skypac.utils.ResourceRefCount" title="stsci.skypac.utils.ResourceRefCount"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ResourceRefCount</span></code></a> object.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="stsci.skypac.utils.ImageRef">
<em class="property">class </em><code class="descclassname">stsci.skypac.utils.</code><code class="descname">ImageRef</code><span class="sig-paren">(</span><em>hdulist_refcnt=None</em><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.ImageRef" title="Permalink to this definition">¶</a></dt>
<dd><p>A lightweight class that supports reference counting for FITS images
and holds a <a class="reference internal" href="#stsci.skypac.utils.ResourceRefCount" title="stsci.skypac.utils.ResourceRefCount"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResourceRefCount</span></code></a> object. It provides several
attributes that describe main characteristics of the image (file) and
essential functions for manipulating reference count.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Parameters:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><dl class="first docutils">
<dt><strong>hdulist_refcnt</strong> <span class="classifier-delimiter">:</span> <span class="classifier">ResourceRefCount</span></dt>
<dd><p class="first last">A <a class="reference internal" href="#stsci.skypac.utils.ResourceRefCount" title="stsci.skypac.utils.ResourceRefCount"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResourceRefCount</span></code></a> object holding a <code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.io.fits.HDUList</span></code>
object.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Attributes:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><dl class="first last docutils">
<dt><strong>filename</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">Name of the opened file. Can be <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> for in-memory created        <code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.io.fits.HDUList</span></code> objects.</p>
</dd>
<dt><strong>can_reload_data</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> for files attached to a physical file, <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> for in-memory         <code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.io.fits.HDUList</span></code> objects.</p>
</dd>
<dt><strong>original_fname</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">Original name of the file as requested by the user. <em>Note:</em> may be         different from <code class="xref py py-obj docutils literal notranslate"><span class="pre">filename</span></code> if the orininal file was in GEIS or         WAIVER FITS format and subsequently was converted to a MEF FITS         format. In that case this attribute will show the name of the         original GEIS or WAIVER FITS file.</p>
</dd>
<dt><strong>original_ftype</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">Type of the original file. Can take one of the following values:         ‘MEF’, ‘SIMPLE’, ‘GEIS’, ‘WAIVER’, or ‘UNKNOWN’.</p>
</dd>
<dt><strong>original_exists</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd><p class="first last">Indicates if the physical file exists. It is <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> for in-memory         images.</p>
</dd>
<dt><strong>mef_fname</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str, None</span></dt>
<dd><p class="first last">Name of the MEF FITS file if exists, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> otherwise.</p>
</dd>
<dt><strong>mef_exists</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd><p class="first last">Indicates whether the MEF FITS file exists.</p>
</dd>
<dt><strong>DQ_model</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str, None</span></dt>
<dd><p class="first last">Type of the DQ model: ‘external’ for WFPC, WFPC2, and FOC         instruments (or non-HST data if set so) that have DQ data in a         separate (from image) file and ‘intrinsic’ for ACS, etc. images         that have DQ extensions in the image file. It is <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> if         the image does not have DQ data.</p>
</dd>
<dt><strong>telescope</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">Telescope that acquired the image.</p>
</dd>
<dt><strong>instrument</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">Instrument used to acquire data.</p>
</dd>
<dt><strong>fmode</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">File mode used to open FITS file. See <code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.io.fits.open</span></code> for more details.</p>
</dd>
<dt><strong>memmap</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd><p class="first last">Is the <code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.io.fits.HDUList</span></code> memory mapped?</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="stsci.skypac.utils.ImageRef.hold">
<code class="descname">hold</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.ImageRef.hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Increment the reference count of the attached resource.</p>
</dd></dl>

<dl class="method">
<dt id="stsci.skypac.utils.ImageRef.info">
<code class="descname">info</code><span class="sig-paren">(</span><em>self</em>, <em>fh=sys.stdout</em><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.ImageRef.info" title="Permalink to this definition">¶</a></dt>
<dd><p>Print a summary of the object attributes.</p>
</dd></dl>

<dl class="method">
<dt id="stsci.skypac.utils.ImageRef.release">
<code class="descname">release</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.ImageRef.release" title="Permalink to this definition">¶</a></dt>
<dd><p>Decrement reference count of the attached resource. If the reference
count reaches zero, the attached <a class="reference internal" href="#stsci.skypac.utils.ResourceRefCount" title="stsci.skypac.utils.ResourceRefCount"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResourceRefCount</span></code></a> object
will be closed and set to <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="stsci.skypac.utils.ImageRef.set_HDUList_RefCount">
<code class="descname">set_HDUList_RefCount</code><span class="sig-paren">(</span><em>hdulist_refcnt=None</em><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.ImageRef.set_HDUList_RefCount" title="Permalink to this definition">¶</a></dt>
<dd><p>Set (attach) a new <a class="reference internal" href="#stsci.skypac.utils.ResourceRefCount" title="stsci.skypac.utils.ResourceRefCount"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResourceRefCount</span></code></a> object that holds
a <code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.io.fits.HDUList</span></code> object. This is allowed only if the already
attached <a class="reference internal" href="#stsci.skypac.utils.ResourceRefCount" title="stsci.skypac.utils.ResourceRefCount"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResourceRefCount</span></code></a> can be closed. The reference
count of the <a class="reference internal" href="#stsci.skypac.utils.ResourceRefCount" title="stsci.skypac.utils.ResourceRefCount"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResourceRefCount</span></code></a> being attached will be
incremented.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Parameters:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><dl class="first docutils">
<dt><strong>hdulist_refcnt</strong> <span class="classifier-delimiter">:</span> <span class="classifier">ResourceRefCount, None</span></dt>
<dd><p class="first last">A <a class="reference internal" href="#stsci.skypac.utils.ResourceRefCount" title="stsci.skypac.utils.ResourceRefCount"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResourceRefCount</span></code></a> object containing a
<code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.io.fits.HDUList</span></code> object. If it is <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>,it will release
and close the attached <a class="reference internal" href="#stsci.skypac.utils.ResourceRefCount" title="stsci.skypac.utils.ResourceRefCount"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResourceRefCount</span></code></a> object.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><dl class="first last docutils">
<dt><strong>ValueError</strong></dt>
<dd><p class="first last">The (already) attached <a class="reference internal" href="#stsci.skypac.utils.ResourceRefCount" title="stsci.skypac.utils.ResourceRefCount"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResourceRefCount</span></code></a> must have
reference count &lt;= 1 so that it can be closed before being
replaced with a new resource.</p>
</dd>
<dt><strong>ValueError</strong></dt>
<dd><p class="first last">The resource being attached must be in an open state.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="stsci.skypac.utils.ImageRef.closed">
<code class="descname">closed</code><a class="headerlink" href="#stsci.skypac.utils.ImageRef.closed" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the <a class="reference internal" href="#stsci.skypac.utils.ImageRef" title="stsci.skypac.utils.ImageRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageRef</span></code></a> object closed?</p>
</dd></dl>

<dl class="attribute">
<dt id="stsci.skypac.utils.ImageRef.extname">
<code class="descname">extname</code><a class="headerlink" href="#stsci.skypac.utils.ImageRef.extname" title="Permalink to this definition">¶</a></dt>
<dd><p>Extension name of the first extension.</p>
</dd></dl>

<dl class="attribute">
<dt id="stsci.skypac.utils.ImageRef.hdu">
<code class="descname">hdu</code><a class="headerlink" href="#stsci.skypac.utils.ImageRef.hdu" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.io.fits.HDUList</span></code> of the attached image.</p>
</dd></dl>

<dl class="attribute">
<dt id="stsci.skypac.utils.ImageRef.refcount">
<code class="descname">refcount</code><a class="headerlink" href="#stsci.skypac.utils.ImageRef.refcount" title="Permalink to this definition">¶</a></dt>
<dd><p>Reference count of the attached <code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.io.fits.HDUList</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="stsci.skypac.utils.is_countrate">
<code class="descclassname">stsci.skypac.utils.</code><code class="descname">is_countrate</code><span class="sig-paren">(</span><em>hdulist</em>, <em>ext</em>, <em>units_kwd='BUNIT'</em>, <em>guess_if_missing=True</em>, <em>telescope=None</em>, <em>instrument=None</em>, <em>verbose=True</em>, <em>flog=None</em><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.is_countrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Infer the units of the data of the input image from the input image.
Specifically, it tries to infer whether the units are counts (or
count-like) or if the units are count-<code class="xref py py-obj docutils literal notranslate"><span class="pre">rate</span></code>.</p>
<p>The units of data are determined from the <code class="docutils literal notranslate"><span class="pre">BUNIT</span></code> header keyword by
searching its value for the division sign ‘/’. If the division sign is
not found, then the units are assumed to be “counts”. If the division
sign is found in the <code class="docutils literal notranslate"><span class="pre">BUNIT</span></code> value and if the numerator is one of
the following: ‘ELECTRONS’,’COUNTS’, or ‘DN’, and denumerator is either
‘S’,’SEC’, or ‘SECOND’, then the units are assumed to be count-rate.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Parameters:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><dl class="first docutils">
<dt><strong>hdulist</strong> <span class="classifier-delimiter">:</span> <span class="classifier"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.io.fits.HDUList</span></code></span></dt>
<dd><p class="first last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.io.fits.HDUList</span></code> of the image.</p>
</dd>
<dt><strong>ext</strong> <span class="classifier-delimiter">:</span> <span class="classifier">tuple, int, str</span></dt>
<dd><p class="first last">Extension specification for whose data the units need to be inferred.
An int <code class="xref py py-obj docutils literal notranslate"><span class="pre">ext</span></code> specifies extension number. A tuple in the form
(str, int) specifies extension name and number. A string <code class="xref py py-obj docutils literal notranslate"><span class="pre">ext</span></code>
specifies extension name and the extension version is assumed to be
1. See documentation for <code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.io.fits.getData</span></code>
for examples.</p>
</dd>
<dt><strong>units_kwd</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str (Default = ‘BUNIT’)</span></dt>
<dd><p class="first last">FITS header keyword describing data units of the image. This keyword
is assumed to be in the header of the extension specified by the
<code class="xref py py-obj docutils literal notranslate"><span class="pre">ext</span></code> parameter.</p>
</dd>
<dt><strong>guess_if_missing</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool (Default = True)</span></dt>
<dd><p class="first last">Instructs to try make best guess on image units when the keyword
specified by <code class="xref py py-obj docutils literal notranslate"><span class="pre">units_kwd</span></code> is not found in the image header. The first
action will be to look for this keyword in the primary header, and
if not found, infer the units based on the telescope, instrument,
and detector information.</p>
</dd>
<dt><strong>telescope</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str, None (Default = None)</span></dt>
<dd><p class="first last">Specifies the telescope from which the data came. If not specified,
the value specified in the <code class="docutils literal notranslate"><span class="pre">TELESCOP</span></code> keyword in the primary
header will be used.</p>
</dd>
<dt><strong>instrument</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str, None (Default = None)</span></dt>
<dd><p class="first last">Specifies the instrument used for acquiring data. If not specified,
the value specified in the <code class="docutils literal notranslate"><span class="pre">INSTRUME</span></code> keyword in the primary
header will be used.</p>
</dd>
<dt><strong>verbose</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool (Default = True)</span></dt>
<dd><p class="first last">Specifies whether to print warning messages.</p>
</dd>
<dt><strong>flog</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str, file, MultiFileLog, None (Default = None)</span></dt>
<dd><p class="first last">Specifies the log file to which the messages should be printed.
It can be a file name, a file object, a MultiFileLog object, or None.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Returns:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><dl class="first last docutils">
<dt><strong>bool, None</strong></dt>
<dd><p class="first last">Returns <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> if the units of the input image for a given extension
are count-rate-like and <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> if the units are count-like. Returns
<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> if the units cannot be inferred from the header.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="stsci.skypac.utils.ext2str">
<code class="descclassname">stsci.skypac.utils.</code><code class="descname">ext2str</code><span class="sig-paren">(</span><em>ext</em>, <em>compact=False</em>, <em>default_extver=1</em><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.ext2str" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string representation of an extension specification.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Parameters:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><dl class="first docutils">
<dt><strong>ext</strong> <span class="classifier-delimiter">:</span> <span class="classifier">tuple, int, str</span></dt>
<dd><p class="first last">Extension specification can be a tuple of the form (str,int), e.g.,
(‘sci’,1), an integer (extension number), or a string (extension
name).</p>
</dd>
<dt><strong>compact</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool (Default = False)</span></dt>
<dd><p class="first last">If <code class="xref py py-obj docutils literal notranslate"><span class="pre">compact</span></code>=<a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> the returned string will have extension
name quoted and separated by a comma from the extension number,
e.g., “‘sci’,1”.
If <code class="xref py py-obj docutils literal notranslate"><span class="pre">compact</span></code>=<a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> the returned string will have extension
version immediately follow the extension name, e.g., ‘sci1’.</p>
</dd>
<dt><strong>default_extver</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int (Default = 1)</span></dt>
<dd><p class="first last">Specifies the extension version to be used when the <code class="xref py py-obj docutils literal notranslate"><span class="pre">ext</span></code> parameter
is a string (extension name).</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Returns:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><dl class="first docutils">
<dt><strong>strext</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">String representation of extension specification <code class="xref py py-obj docutils literal notranslate"><span class="pre">ext</span></code>.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Raises:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><dl class="first last docutils">
<dt><strong>TypeError</strong></dt>
<dd><p class="first last">Unexpected extension type.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ext2str</span><span class="p">(</span><span class="s1">&#39;sci&#39;</span><span class="p">,</span><span class="n">compact</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">default_extver</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
<span class="go">&quot;&#39;sci&#39;,6&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ext2str</span><span class="p">((</span><span class="s1">&#39;sci&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="go">&quot;&#39;sci&#39;,2&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ext2str</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">&#39;4&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ext2str</span><span class="p">(</span><span class="s1">&#39;dq&#39;</span><span class="p">)</span>
<span class="go">&quot;&#39;dq&#39;,1&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ext2str</span><span class="p">(</span><span class="s1">&#39;dq&#39;</span><span class="p">,</span><span class="n">default_extver</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&quot;&#39;dq&#39;,2&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ext2str</span><span class="p">(</span><span class="s1">&#39;sci&#39;</span><span class="p">,</span><span class="n">compact</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">default_extver</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&#39;sci2&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="stsci.skypac.utils.openImageEx">
<code class="descclassname">stsci.skypac.utils.</code><code class="descname">openImageEx</code><span class="sig-paren">(</span><em>filename</em>, <em>mode='readonly'</em>, <em>dqmode='readonly'</em>, <em>memmap=True</em>, <em>saveAsMEF=True</em>, <em>output_base_fitsname=None</em>, <em>clobber=True</em>, <em>imageOnly=False</em>, <em>openImageHDU=True</em>, <em>openDQHDU=False</em>, <em>preferMEF=True</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.openImageEx" title="Permalink to this definition">¶</a></dt>
<dd><p>Open an image file and (if requested) the associated DQ file and return
corresponding <a class="reference internal" href="#stsci.skypac.utils.ImageRef" title="stsci.skypac.utils.ImageRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageRef</span></code></a> objects.</p>
<p>This function is an enhanced version of
<code class="xref py py-func docutils literal notranslate"><span class="pre">stsci.tools.fileutil.openImage()</span></code> function in that it can open
both the image file and the associated DQ image. It also provides
additional inormation about the opened files: file type, original file
name, DQ model (“intrinsic”, where DQ data are placed in the same file
as the science data, or “extrinsic” when DQ data are in a separate file
from the science data), etc. Because of the way it was implemented, it
requires half of the number of calls to <code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.io.fits.open</span></code> thus making it
almost twice as fast as the <code class="xref py py-func docutils literal notranslate"><span class="pre">openImage()</span></code>
function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Parameters:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><dl class="first docutils">
<dt><strong>filename</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">File name of the file to be opened. The image file formats are
recognized: simple/MEF FITS, HST GEIS format, or WAIVER FITS format.</p>
</dd>
<dt><strong>mode</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str (Default = ‘readonly’)</span></dt>
<dd><p class="first last">File mode used to open main image FITS file. See <code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.io.fits.open</span></code>
for more details.</p>
</dd>
<dt><strong>dqmode</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str (Default = ‘readonly’)</span></dt>
<dd><p class="first last">File mode used to open DQ image FITS file. See parameter <code class="xref py py-obj docutils literal notranslate"><span class="pre">mode</span></code>
above for more details.</p>
</dd>
<dt><strong>memmap</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool (Default = True)</span></dt>
<dd><p class="first last">Should memory mapping to be used whe opening simple/MEF FITS?</p>
</dd>
<dt><strong>saveAsMEF</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool (Default = True)</span></dt>
<dd><p class="first last">Should an input GEIS or WAIVER FITS be converted to simple/MEF FITS?</p>
</dd>
<dt><strong>output_base_fitsname</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str, None (Default = None)</span></dt>
<dd><p class="first last">The base name of the output simple/MEF FITS when <code class="xref py py-obj docutils literal notranslate"><span class="pre">saveAsMEF</span></code> is
<a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>. If it is <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>, the file name of the converted file
will be determined according to HST file naming conventions.</p>
</dd>
<dt><strong>clobber</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool (Default = True)</span></dt>
<dd><p class="first last">If <code class="xref py py-obj docutils literal notranslate"><span class="pre">saveAsMEF</span></code> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>, should any existing output files be
overwritten?</p>
</dd>
<dt><strong>imageOnly</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool (Default = False)</span></dt>
<dd><p class="first last">Should this function open the image file only? If <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>, then
the DQ-related attributes will not be valid.</p>
</dd>
<dt><strong>openImageHDU</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool (Default = True)</span></dt>
<dd><p class="first last">Indicates whether the returned <a class="reference internal" href="#stsci.skypac.utils.ImageRef" title="stsci.skypac.utils.ImageRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageRef</span></code></a> object
corresponding to the science image file should be
in an open or closed state.</p>
</dd>
<dt><strong>openDQHDU</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool (Default = False)</span></dt>
<dd><p class="first last">Indicates whether the returned <a class="reference internal" href="#stsci.skypac.utils.ImageRef" title="stsci.skypac.utils.ImageRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageRef</span></code></a> object
corresponding to the DQ image file should be in an open or closed
state.</p>
</dd>
<dt><strong>preferMEF</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool (Default = True)</span></dt>
<dd><p class="first last">Should this function open an existing MEF file that complies with
HST naming convention when the input file is in GEIS or WAIVER FITS
format, even when <code class="xref py py-obj docutils literal notranslate"><span class="pre">saveAsMEF</span></code>=<a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">clobber</span></code>=<a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a>?</p>
</dd>
<dt><strong>verbose</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool (Default = True)</span></dt>
<dd><p class="first last">If <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>, some addition information will be printed out to
standard output.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Returns:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><dl class="first docutils">
<dt><strong>(img, dqimg)</strong> <span class="classifier-delimiter">:</span> <span class="classifier">(ImageRef, ImageRef)</span></dt>
<dd><p class="first">A tuple of <a class="reference internal" href="#stsci.skypac.utils.ImageRef" title="stsci.skypac.utils.ImageRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageRef</span></code></a> objects corresponding to the science
image and to the DQ image. Each object in the returned tuple open
or closed depending on the input arguments.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the returned object is <em>open</em>, then its reference count will
be at least 1. The caller is responsible for “releasing” the
object when it is no longer needed.</p>
</div>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the DQ model of the opened file is “intrinsic”, then the
<code class="xref py py-obj docutils literal notranslate"><span class="pre">dqimg</span></code> component of the returned tuple will hold a reference
counter to the same image. Thus, for “intrinsic” DQ data models,
the reference count of the returned objects may be 2 (if both
science <code class="xref py py-obj docutils literal notranslate"><span class="pre">openImageHDU</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">openDQHDU</span></code> are <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>).</p>
</div>
</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Raises:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><dl class="first last docutils">
<dt><strong>ValueError</strong></dt>
<dd><p class="first last">If input file is neither a GEIS file nor a FITS file.</p>
</dd>
<dt><strong>ValueError</strong></dt>
<dd><p class="first last">Errors occured while accessing/reading the file possibly due to
corrupted file, non-compliant file format, etc.s</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="stsci.skypac.utils.count_extensions">
<code class="descclassname">stsci.skypac.utils.</code><code class="descname">count_extensions</code><span class="sig-paren">(</span><em>img</em>, <em>extname='SCI'</em><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.count_extensions" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of <code class="xref py py-obj docutils literal notranslate"><span class="pre">extname</span></code> extensions in the input image <code class="xref py py-obj docutils literal notranslate"><span class="pre">img</span></code>.
If <code class="xref py py-obj docutils literal notranslate"><span class="pre">extname</span></code> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>, return the number of all image-like extensions.</p>
<p>Input parameters are identical to those of <a class="reference internal" href="#stsci.skypac.utils.get_extver_list" title="stsci.skypac.utils.get_extver_list"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_extver_list()</span></code></a>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#stsci.skypac.utils.get_extver_list" title="stsci.skypac.utils.get_extver_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_extver_list</span></code></a>, <a class="reference internal" href="#stsci.skypac.utils.get_ext_list" title="stsci.skypac.utils.get_ext_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_ext_list</span></code></a></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">count_extensions</span><span class="p">(</span><span class="s1">&#39;j9irw1rqq_flt.fits&#39;</span><span class="p">,</span><span class="n">extname</span><span class="o">=</span><span class="s1">&#39;SCI&#39;</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">count_extensions</span><span class="p">(</span><span class="s1">&#39;j9irw1rqq_flt.fits&#39;</span><span class="p">,</span><span class="n">extname</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="go">10</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="stsci.skypac.utils.get_ext_list">
<code class="descclassname">stsci.skypac.utils.</code><code class="descname">get_ext_list</code><span class="sig-paren">(</span><em>img</em>, <em>extname='SCI'</em><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.get_ext_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all extension versions of <code class="xref py py-obj docutils literal notranslate"><span class="pre">extname</span></code> extensions.
<code class="xref py py-obj docutils literal notranslate"><span class="pre">img</span></code> can be either a file name or a <code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.io.fits.HDUList</span></code> object.</p>
<p>This function is similar to <a class="reference internal" href="#stsci.skypac.utils.get_extver_list" title="stsci.skypac.utils.get_extver_list"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_extver_list()</span></code></a>, the main
difference being that it returns a list of fully qualified extensions:     either tuples of the form (<code class="xref py py-obj docutils literal notranslate"><span class="pre">extname</span></code>,<code class="xref py py-obj docutils literal notranslate"><span class="pre">extver</span></code>) or integer extension
numbers (when <code class="xref py py-obj docutils literal notranslate"><span class="pre">extname</span></code>=<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>).</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#stsci.skypac.utils.get_extver_list" title="stsci.skypac.utils.get_extver_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_extver_list</span></code></a>, <a class="reference internal" href="#stsci.skypac.utils.count_extensions" title="stsci.skypac.utils.count_extensions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">count_extensions</span></code></a></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_ext_list</span><span class="p">(</span><span class="s1">&#39;j9irw1rqq_flt.fits&#39;</span><span class="p">,</span><span class="n">extname</span><span class="o">=</span><span class="s1">&#39;SCI&#39;</span><span class="p">)</span>
<span class="go">[(&#39;SCI&#39;, 1), (&#39;SCI&#39;, 2)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_ext_list</span><span class="p">(</span><span class="s1">&#39;j9irw1rqq_flt.fits&#39;</span><span class="p">,</span><span class="n">extname</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="go">[1, 2, 3, 4, 5, 6, 8, 9, 10, 11]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="stsci.skypac.utils.get_extver_list">
<code class="descclassname">stsci.skypac.utils.</code><code class="descname">get_extver_list</code><span class="sig-paren">(</span><em>img</em>, <em>extname='SCI'</em><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.get_extver_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all extension versions with <code class="xref py py-obj docutils literal notranslate"><span class="pre">extname</span></code> extension
names. If <code class="xref py py-obj docutils literal notranslate"><span class="pre">extname</span></code> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>, return extension <strong>numbers</strong> of all
image-like extensions.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If input image is a <code class="xref py py-obj docutils literal notranslate"><span class="pre">ImageRef</span></code>, this function will
<strong>not</strong> modify its reference count.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Parameters:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><dl class="first docutils">
<dt><strong>img</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str, <code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.io.fits.HDUList</span></code>, or <code class="xref py py-obj docutils literal notranslate"><span class="pre">ImageRef</span></code></span></dt>
<dd><p class="first last">Input image object. If <code class="xref py py-obj docutils literal notranslate"><span class="pre">img</span></code> is a string object (file name) then that
file will be opened. If the file pointed to by the file name is a
GEIS or WAIVER FITS file, it will be converted to a simple/MEF FITS
format if <code class="xref py py-obj docutils literal notranslate"><span class="pre">clobber`=`True</span></code>.</p>
</dd>
<dt><strong>extname</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str (Default = ‘SCI’)</span></dt>
<dd><p class="first last">Indicates extension <em>name</em> for which all existing extension <em>versions</em>
should be found. If <code class="xref py py-obj docutils literal notranslate"><span class="pre">extname`=`None</span></code>, then
<code class="xref py py-obj docutils literal notranslate"><span class="pre">get_extver_list</span></code> will return a list of extension
<em>numbers</em> of all image-like extensions.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Returns:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><dl class="first docutils">
<dt><strong>extver</strong> <span class="classifier-delimiter">:</span> <span class="classifier">list</span></dt>
<dd><p class="first last">List of extension versions corresponding to the input <code class="xref py py-obj docutils literal notranslate"><span class="pre">extname</span></code>.
If <code class="xref py py-obj docutils literal notranslate"><span class="pre">extname`=`None</span></code>, it will return a list of extension
<em>numbers</em> of all image-like extensions.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Raises:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><dl class="first last docutils">
<dt><strong>IOError</strong></dt>
<dd><p class="first last">Unable to open input image file.</p>
</dd>
<dt><strong>TypeError</strong></dt>
<dd><p class="first last">Argument <code class="xref py py-obj docutils literal notranslate"><span class="pre">img</span></code> must be either a file name (str),
an <a class="reference internal" href="#stsci.skypac.utils.ImageRef" title="stsci.skypac.utils.ImageRef"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ImageRef</span></code></a>, or a <code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.io.fits.HDUList</span></code> object.</p>
</dd>
<dt><strong>TypeError</strong></dt>
<dd><p class="first last">Argument <code class="xref py py-obj docutils literal notranslate"><span class="pre">extname</span></code> must be either a string or None.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#stsci.skypac.utils.get_ext_list" title="stsci.skypac.utils.get_ext_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_ext_list</span></code></a>, <a class="reference internal" href="#stsci.skypac.utils.count_extensions" title="stsci.skypac.utils.count_extensions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">count_extensions</span></code></a></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_extver_list</span><span class="p">(</span><span class="s1">&#39;j9irw1rqq_flt.fits&#39;</span><span class="p">,</span><span class="n">extname</span><span class="o">=</span><span class="s1">&#39;sci&#39;</span><span class="p">)</span>
<span class="go">[1, 2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_extver_list</span><span class="p">(</span><span class="s1">&#39;j9irw1rqq_flt.fits&#39;</span><span class="p">,</span><span class="n">extname</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="go">[1, 2, 3, 4, 5, 6, 8, 9, 10, 11</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="stsci.skypac.utils.file_name_components">
<code class="descclassname">stsci.skypac.utils.</code><code class="descname">file_name_components</code><span class="sig-paren">(</span><em>fname</em>, <em>detect_HST_FITS_suffix=True</em><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.file_name_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits base file name into a root, suffix, and extension.
Given a full path, this function extracts the base name,
and splits it into three components: root name, suffix,
and file extension.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Parameters:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><dl class="first docutils">
<dt><strong>fname</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">file name</p>
</dd>
<dt><strong>detect_HST_FITS_suffix</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool (Default = True)</span></dt>
<dd><p class="first last">If True, detects the suffix of most HST files by looking for the
rightmost occurence of the underscore (‘_’) in the file name.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Returns:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><dl class="first last docutils">
<dt><strong>root</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">Root name of the file. When <code class="xref py py-obj docutils literal notranslate"><span class="pre">detect_HST_FITS_suffix</span></code>=<a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>,
this is the part of the file name <em>preceding</em> the rightmost suffix
separator (‘_’). Otherwise, it is the base file name without file
extension.</p>
</dd>
<dt><strong>suffix</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">If <code class="xref py py-obj docutils literal notranslate"><span class="pre">detect_HST_FITS_suffix</span></code>=<a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>, this field will contain the
suffix of most HST files, i.e., the part of the file name contained
between the rightmost suffix separator (‘_’) and file
extension separator. This return value will be an empty string if
If <code class="xref py py-obj docutils literal notranslate"><span class="pre">detect_HST_FITS_suffix</span></code>=<a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> or if the file name has no
extension separator.</p>
</dd>
<dt><strong>fext</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">File extension</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">file_name_components</span><span class="p">(</span><span class="s1">&#39;/data/m87/ua0x5001m_c0f.fits&#39;</span><span class="p">)</span>
<span class="go">(&#39;ua0x5001m&#39;, &#39;c0f&#39;, &#39;.fits&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">file_name_components</span><span class="p">(</span><span class="s1">&#39;/data/m87/ua0x5001m_c0f.fits&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
<span class="go">(&#39;ua0x5001m_c0f&#39;, &#39;&#39;, &#39;.fits&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="stsci.skypac.utils.temp_mask_file">
<code class="descclassname">stsci.skypac.utils.</code><code class="descname">temp_mask_file</code><span class="sig-paren">(</span><em>rootname</em>, <em>suffix</em>, <em>ext</em>, <em>data</em>, <em>dir=os.path.curdir</em>, <em>fnameOnly=False</em><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.temp_mask_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves 2D data array to temporary simple FITS file.
The name of the emporary file is generated based on the input parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Parameters:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><dl class="first docutils">
<dt><strong>data</strong> <span class="classifier-delimiter">:</span> <span class="classifier">numpy array</span></dt>
<dd><p class="first last">Data to be written to the temporary FITS file. Data will be
written in the primary HDU.</p>
</dd>
<dt><strong>rootname</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">Root name of the file.</p>
</dd>
<dt><strong>prefix</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str (Default = ‘tmp’)</span></dt>
<dd><p class="first last">Prefix to be added in front of the root name. If <code class="xref py py-obj docutils literal notranslate"><span class="pre">randomize_prefix</span></code>
is <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>, then a random string will be added to the right of the
string specified by <code class="xref py py-obj docutils literal notranslate"><span class="pre">prefix</span></code> (with no separator between them).
Prefix (or the randomized prefix) will be separated from the
root name by the string specified in <code class="xref py py-obj docutils literal notranslate"><span class="pre">sep</span></code>. If prefix is an empty
string (<code class="docutils literal notranslate"><span class="pre">''</span></code>) then no prefix will be prepended to the root file
name.</p>
</dd>
<dt><strong>suffix</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str (Default = ‘mask’)</span></dt>
<dd><p class="first last">Suffix to be added to the root name. Suffix will be separated from
the root name by the string specified in <code class="xref py py-obj docutils literal notranslate"><span class="pre">sep</span></code>.</p>
</dd>
<dt><strong>ext</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int, str, or tuple of the form (str, int)</span></dt>
<dd><p class="first last">Extention to be added to the temporary file <em>after</em> the suffix.
Extension name string will be separated from
the suffix by the string specified in <code class="xref py py-obj docutils literal notranslate"><span class="pre">sep</span></code>.</p>
</dd>
<dt><strong>sep</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str (Default = ‘_’)</span></dt>
<dd><p class="first last">Separator string to be inserted between (randomized) prefix
and root name, root name and suffix, and suffix and extension.</p>
</dd>
<dt><strong>randomize_prefix</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool (Default = True)</span></dt>
<dd><p class="first last">Specifies whether to add (postpend) a random string to string
specified by <code class="xref py py-obj docutils literal notranslate"><span class="pre">prefix</span></code>.</p>
</dd>
<dt><strong>dir</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str (Default = os.path.curdir)</span></dt>
<dd><p class="first last">Directory to which the temporary file should be written. If directory
<a class="reference external" href="https://docs.python.org/3/library/functions.html#dir" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dir</span></code></a>=<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> then the file will be written to the default
(for more details, see the explanation for argument <a class="reference external" href="https://docs.python.org/3/library/functions.html#dir" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dir</span></code></a> to the
<a class="reference external" href="http://docs.python.org/2/library/tempfile.html#tempfile.mkstemp">tempfile.mstemp</a> function).</p>
</dd>
<dt><strong>fnameOnly</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool (Default = False)</span></dt>
<dd><p class="first last">Specifies what should <a class="reference internal" href="#stsci.skypac.utils.temp_mask_file" title="stsci.skypac.utils.temp_mask_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">temp_mask_file</span></code></a> return: file name of the
created file (if <code class="xref py py-obj docutils literal notranslate"><span class="pre">fnameOnly</span></code>=<a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>), or a tuple with the file
name of the created file and an open
<code class="xref py py-class docutils literal notranslate"><span class="pre">ImageRef</span></code> object of that file.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Returns:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><dl class="first docutils">
<dt><strong>fname</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">File name of the temporary file.</p>
</dd>
<dt><strong>mask</strong> <span class="classifier-delimiter">:</span> <span class="classifier">ImageRef</span></dt>
<dd><p class="first">An open <code class="xref py py-class docutils literal notranslate"><span class="pre">ImageRef</span></code> object of the temporary
FITS file. This is returned as a tuple together with the file name
only when <code class="xref py py-obj docutils literal notranslate"><span class="pre">fnameOnly</span></code>=<a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a>.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Mask data will be in the Primary HDU.</p>
</div>
</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Raises:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><dl class="first last docutils">
<dt><strong>TypeError</strong></dt>
<dd><p class="first last">Extension specifier must be either an integer, a string,
or a tuple of the form (str, int).</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">stsci</span> <span class="k">import</span> <span class="n">skypac</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mask</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">800</span><span class="p">,</span><span class="mi">800</span><span class="p">),</span><span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">skypac</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">temp_mask_file</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span> <span class="s1">&#39;ua0x5001m&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">suffix</span><span class="o">=</span><span class="s1">&#39;skymatch_mask&#39;</span><span class="p">,</span> <span class="n">ext</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;sci&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="nb">dir</span><span class="o">=</span><span class="s1">&#39;/data/m87&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">fnameOnly</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;/data/m87/tmp39gCpw_ua0x5001m_skymatch_mask_sci4.fits&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">skypac</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">temp_mask_file</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span> <span class="s1">&#39;ua0x5001m&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">suffix</span><span class="o">=</span><span class="s1">&#39;skymatch_mask&#39;</span><span class="p">,</span> <span class="n">ext</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;sci&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="nb">dir</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">fnameOnly</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;tmpxl7LTO_ua0x5001m_skymatch_mask_sci4.fits&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">skypac</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">temp_mask_file</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span> <span class="s1">&#39;ua0x5001m&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">suffix</span><span class="o">=</span><span class="s1">&#39;skymatch_mask&#39;</span><span class="p">,</span> <span class="n">ext</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;sci&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="nb">dir</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">,</span><span class="n">fnameOnly</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">(&#39;tmpxMcL5g_ua0x5001m_skymatch_mask_sci4.fits&#39;, &lt;skypac.utils.ImageRef object at 0x101f5a3d0&gt;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="stsci.skypac.utils.almost_equal">
<code class="descclassname">stsci.skypac.utils.</code><code class="descname">almost_equal</code><span class="sig-paren">(</span><em>arr1</em>, <em>arr2</em>, <em>fp_accuracy=None</em>, <em>fp_precision=None</em><span class="sig-paren">)</span><a class="headerlink" href="#stsci.skypac.utils.almost_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares two values, or values of <code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code> and verifies that these values
are close to each other. For exact type (integers and boolean) the
comparison is exact. For inexact types (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.float32</span></code>, etc.)
it checks that the values (or <em>all</em> values in a <code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>)
satisfy the following inequality:</p>
<div class="math">
<p><img src="_images/math/2f85d150682731815be40f7bb490ca62a4ca03ec.png" alt="|v1-v2| \leq a + 10^{-p} \cdot |v2|,"/></p>
</div><p>where <code class="xref py py-obj docutils literal notranslate"><span class="pre">a</span></code> is the accuracy (“absolute error”) and <code class="xref py py-obj docutils literal notranslate"><span class="pre">p</span></code> is precision
(“relative error”).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Parameters:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><dl class="first docutils">
<dt><strong>arr1</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float, int, bool, str, numpy.ndarray, None, etc.</span></dt>
<dd><p class="first last">First value or array of values to be compared.</p>
</dd>
<dt><strong>arr2</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float, int, bool, str, numpy.ndarray, None, etc.</span></dt>
<dd><p class="first last">Second value or array of values to be compared.</p>
</dd>
<dt><strong>fp_accuracy</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int, float, None (Default = None)</span></dt>
<dd><p class="first last">Accuracy to withing values should be close. Default value will use
twice the value of the machine accuracy (machine epsilon) for
the input type. This parameter has effect only when the values
to be compared are of inexact type (e.g., <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a>).</p>
</dd>
<dt><strong>fp_precision</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int, float, None (Default = None)</span></dt>
<dd><p class="first last">Accuracy to withing values should be close. Default value will use
twice the value of the machine precision (resolution) for the
input type. This parameter has effect only when the values
to be compared are of inexact type (e.g., <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a>).</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Returns:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><dl class="first docutils">
<dt><strong>almost_equal</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd><p class="first last">Returns <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> if input values are close enough to each other
or <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> otherwise.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Raises:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><dl class="first last docutils">
<dt><strong>ValueError</strong></dt>
<dd><p class="first last">If <code class="xref py py-obj docutils literal notranslate"><span class="pre">fp_accuracy</span></code> is negative.</p>
</dd>
<dt><strong>TypeError</strong></dt>
<dd><p class="first last">If <code class="xref py py-obj docutils literal notranslate"><span class="pre">fp_precision</span></code> is not <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a>, or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pamutils.html" title="Pixel Area Map (PAM) utilities"
             >next</a> |</li>
        <li class="right" >
          <a href="skystatistics.html" title="Sky statistics functions for skypac."
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">SkyPac 0.9.10 (20-April-2018) documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2013, Mihai Cara, Warren Hack, Pey Lian Lim.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.2.
    </div>
  </body>
</html>